<div class="mantenedor-usuarios-container">
    <h2>Mantenedor de Usuarios</h2>

    <form class="formulario-usuarios" (ngSubmit)="registrarUsuario()">
        <!-- Tipo de Usuario -->
        <div class="form-group tipo-usuario-checkboxes">
            <label>Seleccione el tipo de usuario:</label>
            <div class="checkbox-container">
                <label>
                    <input type="checkbox" (change)="onCheckboxChange('paciente', $event)" [checked]="esPaciente" /> Paciente
                </label>
                <label>
                    <input type="checkbox" (change)="onCheckboxChange('terapeuta', $event)" [checked]="esTerapeuta" /> Terapeuta
                </label>
            </div>
        </div>

        <!-- Rut -->
        <div class="form-group">
            <label for="rut">RUT</label>
            <input type="text" [(ngModel)]="nuevoUsuario.rut" name="rut" id="rut" required placeholder="Ingrese el RUT" />
        </div>

        <!-- Nombre -->
        <div class="form-group">
            <label for="nombre">Nombre</label>
            <input type="text" [(ngModel)]="nuevoUsuario.nombre" name="nombre" id="nombre" required placeholder="Ingrese el nombre" />
        </div>

        <!-- Apellidos -->
        <div class="form-group">
            <label for="apellidos">Apellidos</label>
            <input type="text" [(ngModel)]="nuevoUsuario.apellidos" name="apellidos" id="apellidos" required placeholder="Ingrese los apellidos" />
        </div>

        <!-- Email -->
        <div class="form-group">
            <label for="email">Correo Electrónico</label>
            <input type="email" [(ngModel)]="nuevoUsuario.email" name="email" id="email" required placeholder="Ingrese el correo electrónico" />
        </div>

        <!-- Contraseña -->
        <div class="form-group">
            <label for="password">Contraseña</label>
            <input type="password" [(ngModel)]="nuevoUsuario.password" name="password" id="password" required placeholder="Ingrese la contraseña" />
        </div>

        <!-- Fecha de Nacimiento (solo para pacientes) -->
        <div class="form-group" *ngIf="esPaciente">
            <label for="fechaNacimiento">Fecha de Nacimiento</label>
            <input type="date" [(ngModel)]="nuevoUsuario.fecha_nacimiento" name="fechaNacimiento" id="fechaNacimiento" placeholder="Ingrese la fecha de nacimiento" />
        </div>

        <!-- Teléfono (solo para pacientes) -->
        <div class="form-group" *ngIf="esPaciente">
            <label for="telefono">Teléfono</label>
            <input type="text" [(ngModel)]="nuevoUsuario.telefono" name="telefono" id="telefono" placeholder="Ingrese el teléfono" />
        </div>

        <!-- Dirección (solo para pacientes) -->
        <div class="form-group" *ngIf="esPaciente">
            <label for="direccion">Dirección</label>
            <input type="text" [(ngModel)]="nuevoUsuario.direccion" name="direccion" id="direccion" placeholder="Ingrese la dirección" />
        </div>

        <!-- Especialidad (solo para terapeutas) -->
        <div class="form-group" *ngIf="esTerapeuta">
            <label for="especialidad">Especialidad</label>
            <input type="text" [(ngModel)]="nuevoUsuario.especialidad" name="especialidad" id="especialidad" placeholder="Ingrese la especialidad" />
        </div>

        <!-- Botón para registrar al usuario -->
        <button type="submit" class="btn-registrar">Registrar Usuario</button>

        <!-- Mostrar mensajes de error -->
        <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
    </form>
</div>
